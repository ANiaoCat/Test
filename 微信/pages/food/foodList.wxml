<!--pages/food/foodList.wxml-->
<import src="../food/foodListCell.wxml" />

<view class="content">
  <view class="top">
    <scroll-view class="category" scroll-y="true">
      <view class="category-item {{currentIndex==idx?'selectbtn':''}}" bindtap="selectCategory" id="{{idx}}" wx:for="{{categoryList}}" wx:for-item="category" wx:for-index="idx" data-idx="{{idx}}">
        {{category}}
      </view>
    </scroll-view>

    <scroll-view class="foodList" scroll-y="true">
      <view class="item-view " wx:for="{{foodsList}}" wx:for-item="food" id="{{index}}" wx:for-index="index" data-idx="{{index}}">
        <!--navigator后加 url="orderList?title={{food.title}}"   ?前是要跳转的页面名称，?后加的是传值参数，各参数之间以&链接-->
        <!--<navigator url="orderList?title={{food.title}}&name={{food.price}}">-->
        <view class="foodListCell">
          <image class="img" src="../resouce/defoult.png">
          </image>
          <view class="cell">
            <view class="cell-title">
              {{food.title}}
            </view>
            <view class="cell-content">
              <view class="cell-text">￥{{food.price}}</view>
              <view class="cell-number">
                <image class="imgbtn" src="../resouce/minus.png" catchtap="minusNum" data-alpha-beta="{{index}}"></image>
                <text class="number">{{food.nums}}</text>
                <image class="imgbtn" src="../resouce/add.png" catchtap="addNum" data-alpha-beta="{{index}}"></image>
              </view>
            </view>
          </view>
        </view>
        <!--<template is="foodListCell" data="{{food}}" />-->
        <!--</navigator>-->
      </view>

    </scroll-view>
  </view>

  <view class="bottom">
    <view class="foodNums">
      <image class="numsCar" src="../resouce/car.png"></image>
      <!--99⁺  {{totalNums>9?'9⁺':totalNums}}-->
      <view class="nums {{totalNums>9?'numsBig':''}}">{{totalNums}}</view>
    </view>
    <view class="totalPrice">￥256</view>
    <view class="preorder" bindtap="payOrder">下单</view>
  </view>
</view>